/**
 * Copyright: Codetipi
 * Theme: Zeen
 * Version: 4.0.9.6
 */
var zeenWoo=function(n){"use strict";var s={init:function(){this.dom(),this.bind(),this.qtyArrows(),this.wooImages(),this.wooFilterWidgets()},dom:function(){this.$body=n("body"),this.$win=n(window),this.$doc=n(document),this.$page=n("#page"),this.$rtl=this.$body.hasClass("rtl"),this.$primary=n("#primary"),this.$entryContentWrap=this.$primary.find(".entry-content-wrap"),this.$modal=n("#modal"),this.$modalCustom=this.$modal.find(".content-custom"),this.$main=n("#main"),this.$lightOverlay=n("#light-overlay"),this.$cartSlideOpen=n(".slide-cart-tr-open"),this.$slideInCart=n("#slide-in-cart"),this.$wooFilters=n("#woo-filters"),this.wooArchive="",this.$products="",this.wooActive=this.$body.hasClass("woo--active")},bind:function(){this.$winWidth=this.$win.width(),(this.$body.hasClass("term-woocategory")||this.$body.hasClass("post-type-archive-product")||this.$body.hasClass("woocommerce-page"))&&(this.wooArchive=!0,this.$products=this.$entryContentWrap.find(".products:not(.related)")),this.$cartSlideOpen.on("click",this.openCartSlide.bind(this)),this.$body.on("click","#qty-plus",this.qtyArrowChange),this.$body.on("click","#qty-minus",this.qtyArrowChange),this.$doc.on("updated_wc_div",function(){s.qtyArrows()}),n("#woo-filter-tr").on("click",this.wooFilterTr),this.$body.on("change",".zeen__var__option > input",this.wooRadio),n(".variations_form").each(function(){s.wooVariations(n(this))}),s.$doc.on("added_to_cart",function(t){s.closeCartSlide(t),s.$modal.hasClass("active-qv")&&n(".variations_form").each(function(){s.wooVariationsOff(n(this))}),setTimeout(function(){s.openCartSlide()},500)}),this.$doc.on("zeenQVSuccess",this.wooQVSuccess),this.$doc.on("zeenModalOff",this.closeCartSlide),1===zeenWooJS.args.wooAjaxSinglebutton?s.$body.on("click",".single_add_to_cart_button",{addToCartHandler:this},this.single_add_to_cart_button):s.$body.on("click","#modal .single_add_to_cart_button",{addToCartHandler:this},this.single_add_to_cart_button)},wooFilterWidgets:function(){0!==this.$wooFilters.length&&n("#woo-filters-widgets").find("> .filters-widget").find("> .widget-title").on("click",this.filterWidgetShow)},filterWidgetShow:function(t){t.preventDefault(),n(this).parent().toggleClass("active")},openCartSlide:function(t){0===this.$slideInCart.length||this.$body.hasClass("woocommerce-cart")||this.$body.hasClass("woocommerce-checkout")||this.$winWidth<768||(void 0!==t&&t.preventDefault(),this.$body.addClass("slide-menu-open cart-slide-menu-open"),this.$lightOverlay.addClass("active"),this.$slideInCart.addClass("active"))},closeCartSlide:function(t){s.$body.removeClass("slide-menu-open cart-slide-menu-open filter-slide-menu-open"),s.$lightOverlay.removeClass("active"),0<s.$slideInCart.length&&s.$slideInCart.removeClass("active"),0<s.$wooFilters.length&&s.$wooFilters.removeClass("active"),void 0!==t&&t.preventDefault()},wooImages:function(){0!==s.$products.length&&s.$products.imagesLoaded().progress(function(t,a){n(a.img).closest(".product").addClass("article-window")})},wooQVSuccess:function(t,a){s.qtyArrows(),a.forms.each(function(){var t=n(this);t.wc_variation_form(),s.wooVariations(t,"qv_")})},wooFilterTr:function(t){t.preventDefault(),s.$body.addClass("slide-menu-open filter-slide-menu-open"),s.$lightOverlay.addClass("active"),s.$wooFilters.addClass("active")},wooVariationChange:function(t){t.find(".zeen__var__options").each(function(){var t=n(this),a=t.data("attribute"),o=t.closest("form").find("#"+a);t.find("input").each(function(){var t=n(this),a=t.next(),i=o.find('option[value="'+t.attr("value")+'"]'),e=!1;a.hasClass("label-tip")||void 0===a.attr("data-title")||a.addClass("label-tip modal-tip").attr("data-title-ori",a.attr("data-title"));!1===(0===i.length||!!i[0].disabled)?(t.removeClass("radio--disabled").attr("disabled",!1),a.hasClass("label-tip")?(a.removeData("title"),a.removeClass("tipi-tip").off("mouseenter",zeen.toolTipInitPub)):a.attr("data-title",a.attr("data-title-ori"))):(e=!0,t.addClass("radio--disabled").attr("disabled",!0),a.attr("data-title",zeenWooJS.i18n.outOfStock)),1!=e||a.hasClass("tipi-tip")||a.addClass("tipi-tip tipi-tip-t modal-tip").on("mouseenter",zeen.toolTipInitPub),a.closest("tr").find(">.label .zeen-var-append").html('<span class="zeen--colon">: </span>'+o.find(":selected").text())})})},wooRadio:function(){var t=n(this);t.closest(".zeen__var__options").next().val(t.val()).trigger("change")},wooVariations:function(t,a){var i=t.parent(),i=i.hasClass("summary")?i.find("> .price"):(i=i.closest(".product")).is("article")?i.find(".title-wrap > .price"):i.find(">.woocommerce-loop-product__link > .price");a=void 0===a?"":a,t.data("priceOriginalHTML",i.html()),t.hasClass("zeen-variations")||(t.addClass("zeen-variations"),t.find("td.label").append('<span class="zeen-var-append"></span>'),t.on("show_variation.zeen_"+a+"show_variation",{zeenForm:t},s.wooRadioChangeShow),t.on("hide_variation.zeen_"+a+"hide_variation",{zeenForm:t},s.wooRadioChangeHide),t.on("found_variation.zeen_"+a+"found_variation",{zeenForm:t},s.wooFoundVariation))},wooVariationsOff:function(t){t.off("show_variation.zeen_qv_show_variation",s.wooRadioChangeShow),t.off("hide_variation.zeen_qv_hide_variation",s.wooRadioChangeHide),t.off("found_variation.zeen_qv_hide_variation",s.wooFoundVariation)},wooFoundVariation:function(t,a){var i,e=t.data.zeenForm,o=e.closest(".product"),s=e.parent(),n=s.hasClass("qv-summary"),t=o.find(".images"),o=t.find("picture").eq(0);0<o.length?(o=(i=o).parent().find("source")).addClass("wp-post-image"):i=o=t.find("img").eq(0),s.hasClass("summary")&&!n||(!i.hasClass("zeen-lazy-load-base")||i.hasClass("zeen-lazy-load-base")&&i.hasClass("zeen-lazy-loaded"))&&(a&&a.image&&a.image.src&&1<a.image.src.length?(o.wc_set_variation_attr("src",a.image.src),o.wc_set_variation_attr("height",a.image.src_h),o.wc_set_variation_attr("width",a.image.src_w),o.wc_set_variation_attr("srcset",a.image.srcset),o.wc_set_variation_attr("sizes",a.image.sizes),o.wc_set_variation_attr("title",a.image.title),o.wc_set_variation_attr("data-caption",a.image.caption),o.wc_set_variation_attr("alt",a.image.alt),o.wc_set_variation_attr("data-src",a.image.full_src),o.wc_set_variation_attr("data-large_image",a.image.full_src),o.wc_set_variation_attr("data-large_image_width",a.image.full_src_w),o.wc_set_variation_attr("data-large_image_height",a.image.full_src_h)):e.wc_variations_image_reset())},wooRadioChangeHide:function(t){var a=t.data.zeenForm.parent(),i=a.hasClass("summary")?a.find("> .price"):(a=a.closest(".product")).is("article")?a.find(".title-wrap > .price"):a.find(">.woocommerce-loop-product__link > .price"),e=t.data.zeenForm.data("priceOriginalHTML");void 0!==e&&e!==i.html()&&(i.addClass("price--change"),setTimeout(function(){i.html(e),i.removeClass("price--change")},350))},wooRadioChangeShow:function(t){s.wooVariationChange(t.data.zeenForm);var a=t.data.zeenForm.parent(),i=a.hasClass("summary")?a.find("> .price"):(a=a.closest(".product")).is("article")?a.find(".title-wrap > .price"):a.find(">.woocommerce-loop-product__link > .price"),t=n(t.data.zeenForm).find(".single_variation"),e=t.find(".woocommerce-variation-price > .price").html(),o="no_amount"===zeenWooJS.args.wooStockFormat?"":t.find(".woocommerce-variation-availability").html();void 0!==e&&e!==i.html()&&(i.addClass("price--change"),setTimeout(function(){i.html(e+o),i.removeClass("price--change")},350))},single_add_to_cart_button:function(t){var a=n(this);if(a.hasClass("disabled")||!1===n(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[a]))return n(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,a]),!0;var i,e=a.parent().hasClass("woo-extra-button-add")?a.closest(".product").find("form.cart"):a.closest("form.cart"),o=e.serializeArray()||{};e.hasClass("grouped_form")||e.hasClass("cart--external")||0<e.find(".wc-pao-addons-container").length||(t.preventDefault(),i={},n.each(o,function(){i[this.name]=this.value}),s.$body.trigger("adding_to_cart",[a,i]),o={form:i,action:"zeen_woo_cart_do",product_id:e.find("input[name=variation_id]").val()||a.val()},n.ajax({type:"POST",url:wc_add_to_cart_params.ajax_url,data:o,beforeSend:function(t){a.addClass("tipi-spin")},complete:function(t){a.removeClass("tipi-spin")},success:function(t){t&&(t.error&&t.product_url?window.location=t.product_url:"yes"!==wc_add_to_cart_params.cart_redirect_after_add?s.$body.trigger("added_to_cart",[t.fragments,t.cart_hash,a]):window.location=wc_add_to_cart_params.cart_url)}}))},qtyArrows:function(){n(".cart .quantity:not(.has-arrows )").addClass("has-arrows").prepend('<span id="qty-minus" class="qty-arrow qty-minus"><i class="tipi-i-minus"></i></span>').append('<span id="qty-plus" class="qty-arrow qty-plus"><i class="tipi-i-plus"></i></span>')},qtyArrowChange:function(){var t=n(this).closest(".quantity").find(".qty"),a=n(this).hasClass("qty-plus"),i=parseInt(t.val()),e=parseInt(t.attr("max")),o=parseInt(t.attr("min")),s=t.attr("step");i&&""!==i&&"NaN"!==i||(i=0),""!==e&&"NaN"!==e||(e=""),""!==o&&"NaN"!==o||(o=0),"any"!==s&&""!==s&&void 0!==s&&"NaN"!==parseInt(s)||(s=1),!0===a?e&&e<=i?t.val(e):t.val(i+parseInt(s)):o&&i<=o?t.val(o):0<i&&t.val(i-parseInt(s)),t.trigger("change")}};s.init()}(jQuery);