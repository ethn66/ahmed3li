!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(o,s){function e(e){if(I)return!0;e=e||window.event,T.timeToIdle&&T.mouseUsed&&!v&&R();for(var t,n,o=(e.target||e.srcElement).getAttribute("class")||"",s=0;s<z.length;s++)(t=z[s]).onTap&&-1<o.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),I=!0,setTimeout(function(){I=!1},30))}function n(){1===T.getNumItemsFn()?d.classList.add("pswp__ui--one-slide"):d.classList.remove("pswp__ui--one-slide")}function t(){S?_.classList.add("pswp__share-modal--hidden"):_.classList.remove("pswp__share-modal--hidden")}function i(){return(S=!S)?(_.classList.remove("pswp__share-modal--fade-in"),setTimeout(function(){S&&t()},300)):(t(),setTimeout(function(){S||_.classList.add("pswp__share-modal--fade-in")},30)),S||k(),0}function l(e){var t=(e=e||window.event).target||e.srcElement;return o.shout("shareLinkClick",e,t),!!t.href&&(!!t.hasAttribute("download")||(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||i(),!1))}function r(e){for(var t=0;t<T.closeElClasses.length;t++)if(e.classList.contains("pswp__"+T.closeElClasses[t]))return 1}function a(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(E),E=setTimeout(function(){F.setIdle(!0)},T.timeToIdleOutside))}function c(e){var t,n=e.vGap;!o.likelyTouchDevice||T.mouseUsed||screen.width>T.fitControlsWidth?(t=T.barsSize,T.captionEl&&"auto"===t.bottom?(f||((f=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),d.insertBefore(f,m),d.classList.add("pswp__ui--fit")),T.addCaptionHTMLFn(e,f,!0)?(e=f.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function u(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){s=e[n],i=s.className;for(var o=0;o<z.length;o++)l=z[o],-1<i.indexOf("pswp__"+l.name)&&(T[l.option]?(s.classList.remove("pswp__element--disabled"),l.onInit&&l.onInit(s)):s.classList.add("pswp__element--disabled"))}}var s,i,l;e(d.children);var t=d.querySelectorAll(".pswp__top-bar")[0];t&&e(t.children)}var p,d,m,f,w,h,_,v,g,b,T,I,L,E,F=this,C=!1,x=!0,S=!0,K={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[],getImageURLForShare:function(){return o.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return o.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(){for(var e,t,n,o,s="",i=0;i<T.shareButtons.length;i++)e=T.shareButtons[i],t=T.getImageURLForShare(e),n=T.getPageURLForShare(e),o=T.getTextForShare(e),s+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",T.parseShareButtonOut&&(s=T.parseShareButtonOut(e,s));_.children[0].innerHTML=s,_.children[0].onclick=l},y=0,R=function(){clearTimeout(E),y=0,v&&F.setIdle(!1)},z=[{name:"caption",option:"captionEl",onInit:function(e){m=e}},{name:"share-modal",option:"shareEl",onInit:function(e){_=e},onTap:function(){i()}},{name:"button--share",option:"shareEl",onInit:function(e){h=e},onTap:function(){i()}},{name:"button--zoom",option:"zoomEl",onTap:o.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){w=e}},{name:"button--close",option:"closeEl",onTap:function(){setTimeout(o.close)}},{name:"button--arrow--left",option:"arrowEl",onTap:o.prev},{name:"button--arrow--right",option:"arrowEl",onTap:o.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){p.isFullscreen()?p.exit():p.enter()}}];F.init=function(){var t;s.extend(o.options,K,!0),T=o.options,d=o.scrollWrap.querySelectorAll(".pswp__ui")[0],(g=o.listen)("onVerticalDrag",function(e){x&&e<.95?F.hideControls():!x&&.95<=e&&F.showControls()}),g("onPinchClose",function(e){x&&e<.9?(F.hideControls(),t=!0):t&&!x&&.9<e&&F.showControls()}),g("zoomGestureEnded",function(){(t=!1)&&!x&&F.showControls()}),g("beforeChange",F.update),g("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(T.getDoubleTapZoom(!1,o.currItem),e,333)}),g("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),g("bindEvents",function(){s.bind(d,"pswpTap click",e),s.bind(o.scrollWrap,"pswpTap",F.onGlobalTap),o.likelyTouchDevice||s.bind(o.scrollWrap,"mouseover",F.onMouseOver)}),g("unbindEvents",function(){S||i(),L&&clearInterval(L),s.unbind(document,"mouseout",a),s.unbind(document,"mousemove",R),s.unbind(d,"pswpTap click",e),s.unbind(o.scrollWrap,"pswpTap",F.onGlobalTap),s.unbind(o.scrollWrap,"mouseover",F.onMouseOver),p&&(s.unbind(document,p.eventK,F.updateFullscreen),p.isFullscreen()&&(T.hideAnimationDuration=0,p.exit()),p=null)}),g("destroy",function(){T.captionEl&&(f&&d.removeChild(f),m.classList.remove("pswp__caption--empty")),_&&(_.children[0].onclick=null),d.classList.remove("pswp__ui--over-close"),d.classList.add("pswp__ui--hidden"),F.setIdle(!1)}),T.showAnimationDuration||d.classList.remove("pswp__ui--hidden"),g("initialZoomIn",function(){T.showAnimationDuration&&d.classList.remove("pswp__ui--hidden")}),g("initialZoomOut",function(){d.classList.add("pswp__ui--hidden")}),g("parseVerticalMargin",c),u(),T.shareEl&&h&&_&&(S=!0),n(),T.timeToIdle&&g("mouseUsed",function(){s.bind(document,"mousemove",R),s.bind(document,"mouseout",a),L=setInterval(function(){2===++y&&F.setIdle(!0)},T.timeToIdle/2)}),T.fullscreenEl&&((p=p||F.getFullscreenAPI())?(s.bind(document,p.eventK,F.updateFullscreen),F.updateFullscreen(),o.template.classList.add("pswp--supports-fs")):o.template.classList.remove("pswp--supports-fs")),o.template.classList.remove("pswp__preloader--active"),g("beforeChange",function(){clearTimeout(b),b=setTimeout(function(){o.currItem&&o.currItem.loading?o.allowProgressiveImg()&&(!o.currItem.img||o.currItem.img.naturalWidth)||o.template.classList.add("pswp__preloader--active"):o.template.classList.remove("pswp__preloader--active")},T.loadingIndicatorDelay)}),g("imageLoadComplete",function(e,t){o.currItem===t&&o.template.classList.remove("pswp__preloader--active")})},F.setIdle=function(e){(v=e)?d.classList.add("pswp__ui--idle"):d.classList.remove("pswp__ui--idle")},F.update=function(){C=!(!x||!o.currItem)&&(F.updateIndexIndicator(),T.captionEl&&(T.addCaptionHTMLFn(o.currItem,m),o.currItem.title?m.classList.remove("pswp__caption--empty"):m.classList.add("pswp__caption--empty")),!0),S||i(),n()},F.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,s.getScrollY())},50),p.isFullscreen()?o.template.classList.add("pswp--fs"):o.template.classList.remove("pswp--fs")},F.updateIndexIndicator=function(){T.counterEl&&(w.innerHTML=o.getCurrentIndex()+1+T.indexIndicatorSep+T.getNumItemsFn())},F.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;I||(e.detail&&"mouse"===e.detail.pointerType?r(t)?o.close():t.classList.contains("pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?T.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(e.detail.releasePoint)):(T.tapToToggleControls&&(x?F.hideControls():F.showControls()),T.tapToClose&&(t.classList.contains("pswp__img")||r(t))&&o.close()))},F.onMouseOver=function(e){(e=e||window.event).target||e.srcElement;d.classList.toggle("pswp__ui--over-close")},F.hideControls=function(){d.classList.add("pswp__ui--hidden"),x=!1},F.showControls=function(){x=!0,C||F.update(),d.classList.remove("pswp__ui--hidden")},F.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},F.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if("webkitRequestFullscreen"!==this.enterK)return o.template[this.enterK]();o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}});